{"ast":null,"code":"var _jsxFileName = \"/Users/jakobstrozberg/Desktop/nonamehackathon/noname-shopping-list/src/components/ProductSuggestion.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Search } from 'lucide-react';\nimport { searchProducts } from '../data/products';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductSuggestion = ({\n  value,\n  onChange,\n  onProductSelect,\n  placeholder = \"Enter product name...\",\n  className = \"\"\n}) => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n  const dropdownRef = useRef(null);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (value.length >= 2) {\n      const filtered = searchProducts(value, 8);\n      setFilteredProducts(filtered);\n      setIsOpen(filtered.length > 0);\n    } else {\n      setFilteredProducts([]);\n      setIsOpen(false);\n    }\n    setHighlightedIndex(-1);\n  }, [value]);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  const handleKeyDown = e => {\n    if (!isOpen) return;\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setHighlightedIndex(prev => prev < filteredProducts.length - 1 ? prev + 1 : prev);\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setHighlightedIndex(prev => prev > 0 ? prev - 1 : -1);\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (highlightedIndex >= 0) {\n          handleProductSelect(filteredProducts[highlightedIndex]);\n        }\n        break;\n      case 'Escape':\n        setIsOpen(false);\n        setHighlightedIndex(-1);\n        break;\n    }\n  };\n  const handleProductSelect = product => {\n    onChange(product.name);\n    onProductSelect === null || onProductSelect === void 0 ? void 0 : onProductSelect(product);\n    setIsOpen(false);\n    setHighlightedIndex(-1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `product-suggestion ${className}`,\n    ref: dropdownRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        type: \"text\",\n        value: value,\n        onChange: e => onChange(e.target.value),\n        onKeyDown: handleKeyDown,\n        placeholder: placeholder,\n        className: \"input product-input\",\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        className: \"search-icon\",\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), isOpen && filteredProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"suggestions-dropdown\",\n      children: filteredProducts.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `suggestion-item ${index === highlightedIndex ? 'highlighted' : ''}`,\n        onClick: () => handleProductSelect(product),\n        onMouseEnter: () => setHighlightedIndex(index),\n        children: [product.image && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.image,\n          alt: product.name,\n          className: \"product-image\",\n          onError: e => {\n            e.currentTarget.style.display = 'none';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-name\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-description\",\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 17\n          }, this), product.brand && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-brand\",\n            children: product.brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductSuggestion, \"4mYYauzy1W4bfQS6NH4gRbU0DaA=\");\n_c = ProductSuggestion;\nvar _c;\n$RefreshReg$(_c, \"ProductSuggestion\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Search","searchProducts","jsxDEV","_jsxDEV","ProductSuggestion","value","onChange","onProductSelect","placeholder","className","_s","isOpen","setIsOpen","filteredProducts","setFilteredProducts","highlightedIndex","setHighlightedIndex","dropdownRef","inputRef","length","filtered","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleKeyDown","e","key","preventDefault","prev","handleProductSelect","product","name","ref","children","type","onKeyDown","autoComplete","fileName","_jsxFileName","lineNumber","columnNumber","size","map","index","onClick","onMouseEnter","image","src","alt","onError","currentTarget","style","display","description","brand","id","_c","$RefreshReg$"],"sources":["/Users/jakobstrozberg/Desktop/nonamehackathon/noname-shopping-list/src/components/ProductSuggestion.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Product } from '../types';\nimport { Search } from 'lucide-react';\nimport { searchProducts } from '../data/products';\n\ninterface ProductSuggestionProps {\n  value: string;\n  onChange: (value: string) => void;\n  onProductSelect?: (product: Product) => void;\n  placeholder?: string;\n  className?: string;\n}\n\n\n\nexport const ProductSuggestion: React.FC<ProductSuggestionProps> = ({\n  value,\n  onChange,\n  onProductSelect,\n  placeholder = \"Enter product name...\",\n  className = \"\"\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [filteredProducts, setFilteredProducts] = useState<Product[]>([]);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (value.length >= 2) {\n      const filtered = searchProducts(value, 8);\n      setFilteredProducts(filtered);\n      setIsOpen(filtered.length > 0);\n    } else {\n      setFilteredProducts([]);\n      setIsOpen(false);\n    }\n    setHighlightedIndex(-1);\n  }, [value]);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!isOpen) return;\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setHighlightedIndex(prev => \n          prev < filteredProducts.length - 1 ? prev + 1 : prev\n        );\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setHighlightedIndex(prev => prev > 0 ? prev - 1 : -1);\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (highlightedIndex >= 0) {\n          handleProductSelect(filteredProducts[highlightedIndex]);\n        }\n        break;\n      case 'Escape':\n        setIsOpen(false);\n        setHighlightedIndex(-1);\n        break;\n    }\n  };\n\n  const handleProductSelect = (product: Product) => {\n    onChange(product.name);\n    onProductSelect?.(product);\n    setIsOpen(false);\n    setHighlightedIndex(-1);\n  };\n\n  return (\n    <div className={`product-suggestion ${className}`} ref={dropdownRef}>\n      <div className=\"input-container\">\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          onKeyDown={handleKeyDown}\n          placeholder={placeholder}\n          className=\"input product-input\"\n          autoComplete=\"off\"\n        />\n        <Search className=\"search-icon\" size={16} />\n      </div>\n\n      {isOpen && filteredProducts.length > 0 && (\n        <div className=\"suggestions-dropdown\">\n          {filteredProducts.map((product, index) => (\n            <div\n              key={product.id}\n              className={`suggestion-item ${index === highlightedIndex ? 'highlighted' : ''}`}\n              onClick={() => handleProductSelect(product)}\n              onMouseEnter={() => setHighlightedIndex(index)}\n            >\n              {product.image && (\n                <img \n                  src={product.image} \n                  alt={product.name}\n                  className=\"product-image\"\n                  onError={(e) => {\n                    e.currentTarget.style.display = 'none';\n                  }}\n                />\n              )}\n              <div className=\"product-info\">\n                <div className=\"product-name\">{product.name}</div>\n                <div className=\"product-description\">{product.description}</div>\n                {product.brand && (\n                  <div className=\"product-brand\">{product.brand}</div>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}